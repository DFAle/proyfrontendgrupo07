<div class="container mt-4">
  <!-- Tarjeta principal -->
  <div class="card shadow-lg border-0 mb-4">
    <div class="card-header bg-primary text-white">
      <h2 class="m-0">Formulario de Actividad</h2>
    </div>
    <div class="card-body p-4">
      <form *ngIf="actividad" #actividadForm="ngForm">
        <div class="row">

          <!-- Primera columna -->
          <div class="col-md-6 mb-4">
            <!-- Título -->
            <div class="form-group">
              <label for="titulo" class="font-weight-bold">Título</label>
              <input type="text" class="form-control" id="titulo" placeholder="Título de la actividad" required
                #tituloInput="ngModel" [(ngModel)]="actividad.titulo" name="titulo" />
              <div *ngIf="tituloInput.touched && tituloInput.invalid" class="text-danger mt-2">
                <small *ngIf="tituloInput.errors?.['required']">El título es obligatorio.</small>
              </div>
            </div>

            <!-- Foto -->
            <div class="form-group">
              <label for="foto" class="font-weight-bold">URL de la Foto</label>
              <input type="text" class="form-control" id="foto" placeholder="URL de imagen" required
                [(ngModel)]="actividad.foto" name="foto" />
            </div>

            <!-- Detalle -->
            <div class="form-group">
              <label for="detalle" class="font-weight-bold">Detalle</label>
              <textarea class="form-control" id="detalle" placeholder="Descripción detallada" required
                [(ngModel)]="actividad.detalle" name="detalle"></textarea>
            </div>

            <!-- Estado -->
            <div class="form-group">
              <label for="estado" class="font-weight-bold">Estado</label>
              <select class="form-control" id="estado" required [(ngModel)]="actividad.estado" name="estado">
                <option [ngValue]="true">Activa</option>
                <option [ngValue]="false">Inactiva</option>
              </select>
            </div>

            <!-- Nivel -->
            <div class="form-group">
              <label for="nivel" class="font-weight-bold">Nivel</label>
              <select class="form-control" id="nivel" required [(ngModel)]="actividad.nivel" name="nivel">
                <option value="">Seleccione un nivel</option>
                <option value="Inicial">Inicial</option>
                <option value="Intermedio">Intermedio</option>
                <option value="Avanzado">Avanzado</option>
              </select>
            </div>
          </div>

          <!-- Segunda columna -->
          <div class="col-md-6 mb-4">
            <!-- Cupos Disponibles -->
            <div class="form-group">
              <label for="cupos" class="font-weight-bold">Cupos Disponibles</label>
              <input type="number" class="form-control" id="cupos" required [(ngModel)]="actividad.cuposDisponibles"
                name="cuposDisponibles" />
            </div>

            <!-- Horarios -->
            <div *ngIf="actividad.horarios && actividad.horarios.length > 0" class="form-group">
              <h5 class="font-weight-bold">Horarios</h5>
              <div class="form-row">
                <div class="col-md-6 mb-3">
                  <label for="horario" class="font-weight-bold">Días</label>
                  <input type="text" class="form-control" id="dia" name="dia" required
                    [(ngModel)]="actividad.horarios[0].dia" />
                </div>
                <div class="col-md-6 mb-3">
                  <label class="font-weight-bold">Horario Inicial</label>
                  <input type="time" class="form-control" required [(ngModel)]="actividad.horarios[0].horaInicial"
                    name="horariosInicial" />
                </div>
                <div class="col-md-6 mb-3">
                  <label class="font-weight-bold">Horario Final</label>
                  <input type="time" class="form-control" required [(ngModel)]="actividad.horarios[0].horaFinal"
                    name="horariosFinal" />
                </div>
              </div>
            </div>

            <!-- Profesor -->
            <div class="form-group">
              <label for="profesor" class="font-weight-bold">Profesor</label>
              <select class="form-control" id="profesor" required [(ngModel)]="actividad.profesor" name="profesor">
                <option [ngValue]="''" disabled selected>Seleccione un profesor</option>
                <option *ngFor="let p of ArrayProfesores" [ngValue]="p._id">{{ p.nombre }} {{ p.apellido }}</option>
              </select>
            </div>
          </div>

        </div>

        <!-- Botones -->
        <div class="form-group text-center mt-4">
          <button *ngIf="accion === 'new'" type="button" class="btn btn-primary mr-2" (click)="RegistrarActividad()">
            Registrarse
          </button>
          <button *ngIf="accion === 'update'" type="button" class="btn btn-primary mr-2"
            (click)="ActualizarActividad()">
            Actualizar
          </button>
          <button type="reset" class="btn btn-danger mr-2"
            [routerLink]="[('/admin/actividad-listado')]">Cancelar</button>
        </div>
      </form>
    </div>
  </div>
</div>