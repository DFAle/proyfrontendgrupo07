<div class="container mt-4">
  <!-- Tarjeta principal -->
  <div class="card shadow-lg border-0">
    <div class="card-header bg-success text-white d-flex align-items-center">
      <i class="fas fa-user-tie me-3 fs-3"></i>
      <h2 class="m-0">Formulario de Profesor</h2>
    </div>
    <div class="card-body p-4">
      <form [formGroup]="profesorForm">
        <div class="row">
          <!-- Columna izquierda -->
          <div class="col-md-6">
            <!-- Nombre con icono -->
            <div class="form-group mb-4">
              <label for="nombre" class="font-weight-bold d-flex align-items-center">
                <i class="fas fa-id-card me-2 text-success"></i> Nombre
              </label>
              <div class="input-group">
                <span class="input-group-text text-success"><i class="fas fa-user"></i></span>
                <input type="text" class="form-control input-verde" id="nombre" placeholder="Ingresa tu nombre"
                  formControlName="nombre">
              </div>
              <div *ngIf="profesorForm.controls['nombre'].errors && 
                         (profesorForm.controls['nombre'].dirty || profesorForm.controls['nombre'].touched)" 
                   class="alert alert-danger mt-2 p-2">
                <div *ngIf="profesorForm.controls['nombre'].errors['required']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El nombre es requerido.</small>
                </div>
                <div *ngIf="profesorForm.controls['nombre'].errors['minlength']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El nombre debe tener al menos 3 caracteres.</small>
                </div>
              </div>
            </div>

            <!-- Apellido con icono -->
            <div class="form-group mb-4">
              <label for="apellido" class="font-weight-bold d-flex align-items-center">
                <i class="fas fa-id-card me-2 text-success"></i> Apellido
              </label>
              <div class="input-group">
                <span class="input-group-text text-success"><i class="fas fa-user"></i></span>
                <input type="text" class="form-control input-verde" id="apellido" placeholder="Ingresa tu apellido"
                  formControlName="apellido">
              </div>
              <div *ngIf="profesorForm.controls['apellido'].errors && 
                         (profesorForm.controls['apellido'].dirty || profesorForm.controls['apellido'].touched)" 
                   class="alert alert-danger mt-2 p-2">
                <div *ngIf="profesorForm.controls['apellido'].errors['required']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El apellido es requerido.</small>
                </div>
                <div *ngIf="profesorForm.controls['apellido'].errors['minlength']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El nombre debe tener al menos 3 caracteres.</small>
                </div>
              </div>
            </div>

            <!-- Especialización con icono -->
            <div class="form-group mb-4">
              <label for="especializacion" class="font-weight-bold d-flex align-items-center">
                <i class="fas fa-trophy me-2 text-success"></i> Especialización
              </label>
              <div class="input-group">
                <span class="input-group-text text-success"><i class="fas fa-running"></i></span>
                <input type="text" class="form-control input-verde" id="especializacion"
                  placeholder="Ej: Natación, Zumba..." formControlName="espcializacion">
              </div>
              <div *ngIf="profesorForm.controls['espcializacion'].errors && 
                         (profesorForm.controls['espcializacion'].dirty || profesorForm.controls['espcializacion'].touched)" 
                   class="alert alert-danger mt-2 p-2">
                <div *ngIf="profesorForm.controls['espcializacion'].errors['required']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>La especialización es requerida.</small>
                </div>
              </div>
            </div>

            <!-- Foto con icono y carga de archivo -->
            <div class="form-group mb-4">
              <label for="foto" class="font-weight-bold d-flex align-items-center">
                <i class="fas fa-camera me-2 text-success"></i> Foto (archivo)
              </label>
              <input type="file" id="foto" accept="image/*" class="form-control" (change)="onFileSelected($event)">
              <div *ngIf="profesorForm.controls['foto'].errors && 
                         (profesorForm.controls['foto'].dirty || profesorForm.controls['foto'].touched)" 
                   class="alert alert-danger mt-2 p-2">
                <div *ngIf="profesorForm.controls['foto'].errors['required']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>La foto es requerida.</small>
                </div>
              </div>

              <!-- Vista previa -->
              <div *ngIf="profesorForm.get('foto')?.value" class="mt-3 text-center">
                <img [src]="profesorForm.get('foto')?.value" class="img-thumbnail" style="max-width: 200px;" />
              </div>
            </div>
          </div>

          <!-- Columna derecha -->
          <div class="col-md-6">
            <!-- Correo con icono -->
            <div class="form-group mb-4">
              <label for="correo" class="font-weight-bold d-flex align-items-center">
                <i class="fas fa-envelope me-2 text-success"></i> Correo electrónico
              </label>
              <div class="input-group">
                <span class="input-group-text text-success"><i class="fas fa-at"></i></span>
                <input type="email" class="form-control input-verde" id="correo" placeholder="ejemplo@gmail.com"
                  formControlName="correo">
              </div>
              <div *ngIf="profesorForm.controls['correo'].errors && 
                         (profesorForm.controls['correo'].dirty || profesorForm.controls['correo'].touched)" 
                   class="alert alert-danger mt-2 p-2">
                <div *ngIf="profesorForm.controls['correo'].errors['required']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El correo es requerido.</small>
                </div>
                <div *ngIf="profesorForm.controls['correo'].errors['email']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>Formato de correo inválido.</small>
                </div>
              </div>
            </div>

            <!-- Teléfono con icono -->
            <div class="form-group mb-4">
              <label for="telefono" class="font-weight-bold d-flex align-items-center">
                <i class="fas fa-phone me-2 text-success"></i> Teléfono
              </label>
              <div class="input-group">
                <span class="input-group-text text-success"><i class="fas fa-mobile-alt"></i></span>
                <input type="tel" class="form-control input-verde" id="telefono" placeholder="Solo números (10 dígitos)"
                  formControlName="telefono">
              </div>
              <div *ngIf="profesorForm.controls['telefono'].errors && 
                         (profesorForm.controls['telefono'].dirty || profesorForm.controls['telefono'].touched)" 
                   class="alert alert-danger mt-2 p-2">
                <div *ngIf="profesorForm.controls['telefono'].errors['required']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El teléfono es requerido.</small>
                </div>
                <div *ngIf="profesorForm.controls['telefono'].errors['pattern']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>Debe contener solo números.</small>
                </div>
                <div *ngIf="profesorForm.controls['telefono'].errors['minlength'] || profesorForm.controls['telefono'].errors['maxlength']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El teléfono debe tener exactamente 10 dígitos.</small>
                </div>
              </div>
            </div>

            <!-- Estado con icono -->
            <div class="form-group mb-4">
              <label for="activo" class="font-weight-bold d-flex align-items-center">
                <i class="fas fa-toggle-on me-2 text-success"></i> Estado
              </label>
              <select class="form-select input-verde" id="activo" formControlName="activo">
                <option [value]="true">Activo</option>
                <option [value]="false">Inactivo</option>
              </select>
              <div *ngIf="profesorForm.controls['activo'].errors && 
                         (profesorForm.controls['activo'].dirty || profesorForm.controls['activo'].touched)" 
                   class="alert alert-danger mt-2 p-2">
                <div *ngIf="profesorForm.controls['activo'].errors['required']">
                  <small><i class="fas fa-exclamation-circle me-1"></i>El estado es obligatorio.</small>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Botones con iconos -->
        <div class="form-group text-center mt-4">
          <button *ngIf="accion === 'new'" type="button" class="btn btn-success btn-lg me-3"
            [disabled]="profesorForm.invalid || loading" (click)="RegistrarUsuario()">

              <span *ngIf="!loading">
                <i class="fas fa-sync-alt me-2"></i>Registrarse
              </span>
              <span *ngIf="loading">
                <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                Enviando...
              </span>
              
          </button>
          
          <button *ngIf="accion === 'update'" type="button" class="btn btn-success btn-lg me-3"
            [disabled]="(!profesorForm.valid && profesorForm.dirty) || loading" (click)="ModificarProfesor()">
            
              <span *ngIf="!loading">
                <i class="fas fa-sync-alt me-2"></i>Actualizar
              </span>
              <span *ngIf="loading">
                <span class="spinner-border spinner-border-sm me-2" role="status"></span>
                Enviando...
              </span>
         
          </button>
          
          <button type="button" class="btn btn-danger btn-lg" routerLink="/admin/profesor-listado">
            <i class="fas fa-times-circle me-2"></i>Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>